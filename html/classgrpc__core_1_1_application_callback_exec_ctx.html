<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: grpc_core::ApplicationCallbackExecCtx Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegrpc__core.html">grpc_core</a></li><li class="navelem"><a class="el" href="classgrpc__core_1_1_application_callback_exec_ctx.html">ApplicationCallbackExecCtx</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classgrpc__core_1_1_application_callback_exec_ctx-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">grpc_core::ApplicationCallbackExecCtx Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="exec__ctx_8h_source.html">exec_ctx.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8db15bd34a7854554a70dae7537e45ca"><td class="memItemLeft" align="right" valign="top"><a id="a8db15bd34a7854554a70dae7537e45ca" name="a8db15bd34a7854554a70dae7537e45ca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ApplicationCallbackExecCtx</b> ()</td></tr>
<tr class="memdesc:a8db15bd34a7854554a70dae7537e45ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor. <br /></td></tr>
<tr class="separator:a8db15bd34a7854554a70dae7537e45ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a94a56436ba67a3e25d4456c0fd5eca"><td class="memItemLeft" align="right" valign="top"><a id="a7a94a56436ba67a3e25d4456c0fd5eca" name="a7a94a56436ba67a3e25d4456c0fd5eca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ApplicationCallbackExecCtx</b> (uintptr_t fl)</td></tr>
<tr class="memdesc:a7a94a56436ba67a3e25d4456c0fd5eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameterised Constructor. <br /></td></tr>
<tr class="separator:a7a94a56436ba67a3e25d4456c0fd5eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91dee6cdc69ee50a11c666086025d0cc"><td class="memItemLeft" align="right" valign="top"><a id="a91dee6cdc69ee50a11c666086025d0cc" name="a91dee6cdc69ee50a11c666086025d0cc"></a>
uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><b>Flags</b> ()</td></tr>
<tr class="separator:a91dee6cdc69ee50a11c666086025d0cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5c1cd5d0c85bf25d621f61cb46ead93d"><td class="memItemLeft" align="right" valign="top"><a id="a5c1cd5d0c85bf25d621f61cb46ead93d" name="a5c1cd5d0c85bf25d621f61cb46ead93d"></a>
static <a class="el" href="classgrpc__core_1_1_application_callback_exec_ctx.html">ApplicationCallbackExecCtx</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>Get</b> ()</td></tr>
<tr class="separator:a5c1cd5d0c85bf25d621f61cb46ead93d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1b71b5398adfc1680636b8130a57f3"><td class="memItemLeft" align="right" valign="top"><a id="a7d1b71b5398adfc1680636b8130a57f3" name="a7d1b71b5398adfc1680636b8130a57f3"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>Set</b> (<a class="el" href="classgrpc__core_1_1_application_callback_exec_ctx.html">ApplicationCallbackExecCtx</a> *exec_ctx, uintptr_t flags)</td></tr>
<tr class="separator:a7d1b71b5398adfc1680636b8130a57f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2676a491b3e7aeee8337361d73b41c90"><td class="memItemLeft" align="right" valign="top"><a id="a2676a491b3e7aeee8337361d73b41c90" name="a2676a491b3e7aeee8337361d73b41c90"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>Enqueue</b> (grpc_completion_queue_functor *functor, int is_success)</td></tr>
<tr class="separator:a2676a491b3e7aeee8337361d73b41c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6249deb95a2380200e3b648828483e03"><td class="memItemLeft" align="right" valign="top"><a id="a6249deb95a2380200e3b648828483e03" name="a6249deb95a2380200e3b648828483e03"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>Available</b> ()</td></tr>
<tr class="separator:a6249deb95a2380200e3b648828483e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Application-callback execution context. A bag of data that collects information along a callstack. It is created on the stack at core entry points, and stored internally as a thread-local variable.</p>
<p>There are three key differences between this structure and <a class="el" href="classgrpc__core_1_1_exec_ctx.html">ExecCtx</a>:</p><ol type="1">
<li><a class="el" href="classgrpc__core_1_1_application_callback_exec_ctx.html">ApplicationCallbackExecCtx</a> builds a list of application-level callbacks, but <a class="el" href="classgrpc__core_1_1_exec_ctx.html">ExecCtx</a> builds a list of internal callbacks to invoke.</li>
<li><a class="el" href="classgrpc__core_1_1_application_callback_exec_ctx.html">ApplicationCallbackExecCtx</a> invokes its callbacks only at destruction; there is no explicit Flush method.</li>
<li>If more than one <a class="el" href="classgrpc__core_1_1_application_callback_exec_ctx.html">ApplicationCallbackExecCtx</a> is created on the thread's stack, only the one closest to the base of the stack is actually active and this is the only one that enqueues application callbacks. (Unlike <a class="el" href="classgrpc__core_1_1_exec_ctx.html">ExecCtx</a>, it is not feasible to prevent multiple of these on the stack since the executing application callback may itself enter core. However, the new one created will just pass callbacks through to the base one and those will not be executed until the return to the destructor of the base one, preventing unlimited stack growth.)</li>
</ol>
<p>This structure exists because application callbacks may themselves cause a core re-entry (e.g., through a public API call) and if that call in turn causes another application-callback, there could be arbitrarily growing stacks of core re-entries. Instead, any application callbacks instead should not be invoked until other core work is done and other application callbacks have completed. To accomplish this, any application callback should be enqueued using ApplicationCallbackExecCtx::Enqueue .</p>
<p>CONVENTIONS:</p><ul>
<li>Instances of this must ALWAYS be constructed on the stack, never heap allocated.</li>
<li>Instances of this are generally constructed before <a class="el" href="classgrpc__core_1_1_exec_ctx.html">ExecCtx</a> when needed. The only exception is for <a class="el" href="classgrpc__core_1_1_exec_ctx.html">ExecCtx</a>'s that are explicitly flushed and that survive beyond the scope of the function that can cause application callbacks to be invoked (e.g., in the timer thread).</li>
</ul>
<p>Generally, core entry points that may trigger application-level callbacks will have the following declarations:</p>
<p><a class="el" href="classgrpc__core_1_1_application_callback_exec_ctx.html">ApplicationCallbackExecCtx</a> callback_exec_ctx; <a class="el" href="classgrpc__core_1_1_exec_ctx.html">ExecCtx</a> exec_ctx;</p>
<p>This ordering is important to make sure that the <a class="el" href="classgrpc__core_1_1_application_callback_exec_ctx.html">ApplicationCallbackExecCtx</a> is destroyed after the <a class="el" href="classgrpc__core_1_1_exec_ctx.html">ExecCtx</a> (to prevent the re-entry problem described above, as well as making sure that <a class="el" href="classgrpc__core_1_1_exec_ctx.html">ExecCtx</a> core callbacks are invoked first) </p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>src/core/lib/iomgr/<a class="el" href="exec__ctx_8h_source.html">exec_ctx.h</a></li>
<li>src/core/lib/iomgr/exec_ctx.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
