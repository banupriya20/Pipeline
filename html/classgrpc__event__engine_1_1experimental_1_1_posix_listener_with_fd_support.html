<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: grpc_event_engine::experimental::PosixListenerWithFdSupport Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>grpc_event_engine</b></li><li class="navelem"><b>experimental</b></li><li class="navelem"><a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support.html">PosixListenerWithFdSupport</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">grpc_event_engine::experimental::PosixListenerWithFdSupport Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="posix_8h_source.html">posix.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for grpc_event_engine::experimental::PosixListenerWithFdSupport:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support.png" usemap="#grpc_5Fevent_5Fengine::experimental::PosixListenerWithFdSupport_map" alt=""/>
  <map id="grpc_5Fevent_5Fengine::experimental::PosixListenerWithFdSupport_map" name="grpc_5Fevent_5Fengine::experimental::PosixListenerWithFdSupport_map">
<area href="classgrpc__event__engine_1_1experimental_1_1_posix_engine_listener.html" alt="grpc_event_engine::experimental::PosixEngineListener" shape="rect" coords="0,112,362,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8c788419b4eb13d9a19f53f68f62c0ba"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support.html#a8c788419b4eb13d9a19f53f68f62c0ba">OnPosixBindNewFdCallback</a> = absl::AnyInvocable&lt; void(absl::StatusOr&lt; int &gt; listener_fd)&gt;</td></tr>
<tr class="separator:a8c788419b4eb13d9a19f53f68f62c0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab2d53dbae37e0b838eef1d9778619708"><td class="memItemLeft" align="right" valign="top">virtual absl::StatusOr&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support.html#ab2d53dbae37e0b838eef1d9778619708">BindWithFd</a> (const EventEngine::ResolvedAddress &amp;addr, <a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support.html#a8c788419b4eb13d9a19f53f68f62c0ba">OnPosixBindNewFdCallback</a> on_bind_new_fd)=0</td></tr>
<tr class="separator:ab2d53dbae37e0b838eef1d9778619708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f06d6096a6c929c04cd1a92edffa3f"><td class="memItemLeft" align="right" valign="top">virtual absl::Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support.html#ad9f06d6096a6c929c04cd1a92edffa3f">HandleExternalConnection</a> (int listener_fd, int fd, SliceBuffer *pending_data)=0</td></tr>
<tr class="separator:ad9f06d6096a6c929c04cd1a92edffa3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d331ea9f4e6742ecd1c2bb45c84bf6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support.html#a35d331ea9f4e6742ecd1c2bb45c84bf6">ShutdownListeningFds</a> ()=0</td></tr>
<tr class="memdesc:a35d331ea9f4e6742ecd1c2bb45c84bf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown/stop listening on all bind Fds.  <br /></td></tr>
<tr class="separator:a35d331ea9f4e6742ecd1c2bb45c84bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines an interface that posix EventEngine listeners may implement to support additional file descriptor related functionality. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a8c788419b4eb13d9a19f53f68f62c0ba" name="a8c788419b4eb13d9a19f53f68f62c0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c788419b4eb13d9a19f53f68f62c0ba">&#9670;&#160;</a></span>OnPosixBindNewFdCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support.html#a8c788419b4eb13d9a19f53f68f62c0ba">grpc_event_engine::experimental::PosixListenerWithFdSupport::OnPosixBindNewFdCallback</a> =  absl::AnyInvocable&lt;void(absl::StatusOr&lt;int&gt; listener_fd)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when a posix listener bind operation completes. A single bind operation may trigger creation of multiple listener fds. This callback should be invoked once on each newly created and bound fd. If the corresponding bind operation fails for a particular fd, this callback must be invoked with a absl::FailedPreConditionError status.</p>
<p><em>listener_fd</em> - The listening socket fd that was bound to the specified address. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab2d53dbae37e0b838eef1d9778619708" name="ab2d53dbae37e0b838eef1d9778619708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2d53dbae37e0b838eef1d9778619708">&#9670;&#160;</a></span>BindWithFd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual absl::StatusOr&lt; int &gt; grpc_event_engine::experimental::PosixListenerWithFdSupport::BindWithFd </td>
          <td>(</td>
          <td class="paramtype">const EventEngine::ResolvedAddress &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_listener_with_fd_support.html#a8c788419b4eb13d9a19f53f68f62c0ba">OnPosixBindNewFdCallback</a>&#160;</td>
          <td class="paramname"><em>on_bind_new_fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bind an address/port to this Listener.</p>
<p>It is expected that multiple addresses/ports can be bound to this Listener before Listener::Start has been called. Returns either the bound port or an appropriate error status. <em>addr</em> - The address to listen for incoming connections. <em>on_bind_new_fd</em> The callback is invoked once for each newly bound listener fd that may be created by this Bind operation. </p>

<p>Implemented in <a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_engine_listener.html#a7f45d9971ccbfb3669319fa3faf7aacd">grpc_event_engine::experimental::PosixEngineListener</a>.</p>

</div>
</div>
<a id="ad9f06d6096a6c929c04cd1a92edffa3f" name="ad9f06d6096a6c929c04cd1a92edffa3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9f06d6096a6c929c04cd1a92edffa3f">&#9670;&#160;</a></span>HandleExternalConnection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual absl::Status grpc_event_engine::experimental::PosixListenerWithFdSupport::HandleExternalConnection </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>listener_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SliceBuffer *&#160;</td>
          <td class="paramname"><em>pending_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle an externally accepted client connection. It must return an appropriate error status in case of failure.</p>
<p>This may be invoked to process a new client connection accepted by an external listening fd. <em>listener_fd</em> - The external listening socket fd that accepted the new client connection. <em>fd</em> - The socket file descriptor representing the new client connection. <em>pending_data</em> - If specified, it holds any pending data that may have already been read over the externally accepted client connection. Otherwise, it is assumed that no data has been read over the new client connection. </p>

<p>Implemented in <a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_engine_listener.html#a58fc806655eba81a46aa3b011f8e68dd">grpc_event_engine::experimental::PosixEngineListener</a>.</p>

</div>
</div>
<a id="a35d331ea9f4e6742ecd1c2bb45c84bf6" name="a35d331ea9f4e6742ecd1c2bb45c84bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d331ea9f4e6742ecd1c2bb45c84bf6">&#9670;&#160;</a></span>ShutdownListeningFds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void grpc_event_engine::experimental::PosixListenerWithFdSupport::ShutdownListeningFds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shutdown/stop listening on all bind Fds. </p>

<p>Implemented in <a class="el" href="classgrpc__event__engine_1_1experimental_1_1_posix_engine_listener.html#aade05532ff8a406e64c6bf3894db62b6">grpc_event_engine::experimental::PosixEngineListener</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/core/lib/event_engine/<a class="el" href="posix_8h_source.html">posix.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
